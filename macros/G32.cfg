[gcode_macro G32]
gcode:
    SAVE_GCODE_STATE NAME=STATE_G32
    G90
    CG28 ; G28 if XYZ not already homed
    CQGL ; QUAD_GANTRY_LEVEL if not already applied


    STATUS_HOMING
    G28 Z
    RESTORE_GCODE_STATE NAME=STATE_G32

    STATUS_READY
