[gcode_macro PRINT_START]
gcode:
    {% set bed_temp = params.BED | float %}
    {% set extruder_temp = params.EXTRUDER | float %}
    {% set chamber_temp = params.CHAMBER | float %}

    G32                                                                      ; Home all axes
    G90                                                                      ; Absolute positioning
    G1 Z20 F3000                                                             ; Move nozzle away from bed
    M117 Waiting for temp
    SET_HEATER_TEMPERATURE HEATER=heater_bed TARGET={bed_temp}        ; Start heating bed and continue
    SET_HEATER_TEMPERATURE HEATER=extruder   TARGET={extruder_temp}   ; Start heating extruder and continue
    TEMPERATURE_WAIT       SENSOR=heater_bed MINIMUM={bed_temp}       ; Wait for bed to reach target temperature and continue
    TEMPERATURE_WAIT       SENSOR=extruder   MINIMUM={bed_temp}       ; Wait for extruder to reach target temperature
